{
    "shapes": [
        {
            "type": "quad",
            "name": "shape_0",
            "param": {
                "width": 1.0,
                "height": 1.0,
                "material": "Floor",
                "transform": {
                    "type": "matrix4x4",
                    "param": {
                        "matrix4x4": [
                            [
                                -8.742277657347586e-08,
                                0.0,
                                -2.0,
                                0.0
                            ],
                            [
                                0.0,
                                3.999999761581421,
                                0.0,
                                0.0
                            ],
                            [
                                2.0,
                                0.0,
                                -8.742277657347586e-08,
                                0.0
                            ],
                            [
                                0.0,
                                0.0,
                                0.0,
                                1.0
                            ]
                        ]
                    }
                }
            }
        },
        {
            "type": "quad",
            "name": "shape_1",
            "param": {
                "width": 1.0,
                "height": 1.0,
                "material": "Ceiling",
                "transform": {
                    "type": "matrix4x4",
                    "param": {
                        "matrix4x4": [
                            [
                                -2.0,
                                1.7484555314695172e-07,
                                0.0,
                                0.0
                            ],
                            [
                                -3.4969110629390343e-07,
                                -4.0,
                                0.0,
                                0.0
                            ],
                            [
                                0.0,
                                0.0,
                                2.0,
                                0.0
                            ],
                            [
                                0.0,
                                2.0,
                                0.0,
                                1.0
                            ]
                        ]
                    }
                }
            }
        },
        {
            "type": "quad",
            "name": "shape_2",
            "param": {
                "width": 1.0,
                "height": 1.0,
                "material": "BackWall",
                "transform": {
                    "type": "matrix4x4",
                    "param": {
                        "matrix4x4": [
                            [
                                3.82137093032941e-15,
                                1.9999998807907104,
                                8.742277657347586e-08,
                                0.0
                            ],
                            [
                                1.7484555314695172e-07,
                                -1.74845538936097e-07,
                                4.0,
                                0.0
                            ],
                            [
                                1.9999998807907104,
                                0.0,
                                -8.74227694680485e-08,
                                0.0
                            ],
                            [
                                0.0,
                                1.0,
                                -1.0,
                                1.0
                            ]
                        ]
                    }
                }
            }
        },
//        {
//            "type": "quad",
//            "name": "shape_2",
//            "param": {
//                "width": 0.1,
//                "height": 0.1,
//                "material": "BackWall",
//                "transform": {
//                    "type": "matrix4x4",
//                    "param": {
//                        "matrix4x4": [
//                            [
//                                3.82137093032941e-15,
//                                1.9999998807907104,
//                                8.742277657347586e-08,
//                                0.0
//                            ],
//                            [
//                                1.7484555314695172e-07,
//                                -1.74845538936097e-07,
//                                4.0,
//                                0.0
//                            ],
//                            [
//                                1.9999998807907104,
//                                0.0,
//                                -8.74227694680485e-08,
//                                0.0
//                            ],
//                            [
//                                0.0,
//                                1.0,
//                                -0.9,
//                                1.0
//                            ]
//                        ]
//                    }
//                },
//                "emission": {
//                    "type": "area",
//                    "param": {
//                        "radiance": [
//                            12,
//                            12,
//                            12
//                        ],
//                        "two_sided": false,
//                        "scale": 0.1
//                    }
//                }
//            }
//        },
        {
            "type": "quad",
            "name": "shape_3",
            "param": {
                "width": 1.0,
                "height": 1.0,
                "material": "LeftWall",
//                "material": "Floor",
                "transform": {
                    "type": "matrix4x4",
                    "param": {
                        "matrix4x4": [
                            [
                                8.742277657347586e-08,
                                2.0,
                                -7.64274186065882e-15,
                                0.0
                            ],
                            [
                                4.0,
                                -1.7484555314695172e-07,
                                -3.4969110629390343e-07,
                                0.0
                            ],
                            [
                                -1.74845538936097e-07,
                                0.0,
                                -1.9999998807907104,
                                0.0
                            ],
                            [
                                -1.0,
                                1.0,
                                0.0,
                                1.0
                            ]
                        ]
                    }
                }
            }
        },
        {
            "type": "quad",
            "name": "shape_4",
            "param": {
                "width": 1.0,
                "height": 1.0,
//                "material": "Floor",
                "material": "RightWall",
                "transform": {
                    "type": "matrix4x4",
                    "param": {
                        "matrix4x4": [
                            [
                                -8.742277657347586e-08,
                                2.0,
                                0.0,
                                0.0
                            ],
                            [
                                -4.0,
                                -1.7484555314695172e-07,
                                0.0,
                                0.0
                            ],
                            [
                                0.0,
                                0.0,
                                1.9999998807907104,
                                0.0
                            ],
                            [
                                1.0,
                                1.0,
                                0.0,
                                1.0
                            ]
                        ]
                    }
                }
            }
        },
//        {
//            "type": "cube",
//            "name": "shape_5",
//            "param": {
//                "x": 1,
//                "y": 1,
//                "z": 1,
//                "material": "Metal",
//                "transform": {
//                    "type": "matrix4x4",
//                    "param": {
//                        "matrix4x4": [
//                            [
//                                -0.17032849788665771,
//                                7.4452954912374025e-09,
//                                0.5699020028114319,
//                                0.0
//                            ],
//                            [
//                                -0.5790837407112122,
//                                2.531255205440175e-08,
//                                -0.17307265102863312,
//                                0.0
//                            ],
//                            [
//                                -2.622683403785686e-08,
//                                -0.5999999642372131,
//                                1.146411342626294e-15,
//                                0.0
//                            ],
//                            [
//                                0.3286310136318207,
//                                0.30000001192092896,
//                                0.37459200620651245,
//                                1.0
//                            ]
//                        ]
//                    }
//                }
//            }
//        },
//        {
//            "type": "cube",
//            "name": "shape_6",
//            "param": {
//                "x": 1,
//                "y": 1,
//                "z": 1,
//                "material": "Glass",
//                "transform": {
//                    "type": "matrix4x4",
//                    "param": {
//                        "matrix4x4": [
//                            [
//                                0.5735511779785156,
//                                -8.724662770021041e-09,
//                                -0.1995970755815506,
//                                0.0
//                            ],
//                            [
//                                0.19645826518535614,
//                                2.467646353920827e-08,
//                                0.564531683921814,
//                                0.0
//                            ],
//                            [
//                                4.5856449469887026e-15,
//                                -1.1999999284744263,
//                                5.245366452300004e-08,
//                                0.0
//                            ],
//                            [
//                                -0.335438996553421,
//                                0.6000000238418579,
//                                -0.2914150059223175,
//                                1.0
//                            ]
//                        ]
//                    }
//                }
//            }
//        },
//        {
//            "type": "model",
//            "param" : {
//                "material": "Glass",
//                "fn": "Prism.obj",
//                "name" : "prism",
//                "radius": 0.5,
//                "sub_div": 60,
//                "transform": {
//                    "type" : "trs",
//                    "param": {
//                        "t": [0.2,1,0.3],
//                        "r" : [0,1,0,30],
//                        "s" : [0.5,0.5,0.5]
//                    }
//                }
//            }
//        },
        {
            "type": "sphere",
            "param" : {
                "material": "Glass",
                "name" : "prism",
                "radius": 0.3,
                "sub_div": 60,
                "medium": {
                    "inside" : null,
                    "outside": "fog"
                },
                "transform": {
                    "type" : "trs",
                    "param": {
                        "t": [0.2,1,0],
                        "r" : [0,1,0,30],
                        "s" : [1,1,1]
                    }
                }
            }
        },
        {
            "type": "quad",
            "name": "shape_7",
            "param": {
                "width": 0.5,
                "height": 0.5,
                "material": "Light",
                "transform": {
                    "type": "matrix4x4",
                    "param": {
                        "matrix4x4": [
                            [
                                0.4699999988079071,
                                -4.108870399477382e-08,
                                -4.108870399477382e-08,
                                0.0
                            ],
                            [
                                -1.56137076601226e-08,
                                -0.1785999983549118,
                                1.3649937003794234e-15,
                                0.0
                            ],
                            [
                                -3.3220654671595184e-08,
                                0.0,
                                -0.3799999952316284,
                                0.0
                            ],
                            [
                                -0.004999999888241291,
                                1.9800000190734863,
                                -0.029999999329447746,
                                1.0
                            ]
                        ]
                    }
                },
                "emission": {
                    "type": "area",
                    "param": {
                        "radiance": [
                            12,
                            12,
                            12
                        ],
                        "two_sided": false,
                        "scale": 10
                    }
                }
            }
        }
    ],
    "materials": [
        {
            "type": "matte",
            "name": "LeftWall",
            "param": {
                "color": [
                    0.63,
                    0.065,
                    0.05
                ]
            }
        },
        {
            "type": "matte",
            "name": "RightWall",
            "param": {
                "color": [
                    0.14,
                    0.45,
                    0.091
                ]
            }
        },
        {
            "type": "matte",
            "name": "Floor",
            "param": {
                "color": [
                    0.725,
                    0.71,
                    0.68
                ]
            }
        },
        {
            "type": "matte",
            "name": "Ceiling",
            "param": {
                "color": [
                    0.725,
                    0.71,
                    0.68
                ]
            }
        },
        {
            "type": "matte",
            "name": "BackWall",
            "param": {
                "color": {
                    "fn" : "checker.jpg",
                    "color_space": "srgb"
                }
//                "color": [
//                    0.0725,
//                    0.071,
//                    0.068
//                ]
            }
        },
        {
            "type": "matte",
            "name": "ShortBox",
            "param": {
                "color": [
                    0.725,
                    0.71,
                    0.68
                ]
            }
        },
        {
            "type": "glass",
            "name": "Glass",
            "param": {
                "material_name" : "LASF9",
                "color": [
                    1,
                    1,
                    1
                ],
                "roughness": [0.0001,0.0001]
            }
        },
        {
            "type": "disney",
            "name": "disney",
            "param": {
                "color": [
                    0.725,
                    0.71,
                    0.68
                ]
            }
        },
        {
            "type": "substrate",
            "name": "substrate",
            "param": {
                "roughness" : 0.001,
                "spec": [
                    0.04,
                    0.04,
                    0.04
                ],
                "color": [
                    0.725,
                    0.71,
                    0.68
                ]
            }
        },
        {
            "type": "metal",
            "name": "Metal",
            "param": {
                "material_name":"Cu",
                "roughness": 0.01
            }
        },
        {
            "type": "mirror",
            "name": "Mirror",
            "param": {
                "color": [
                    1,
                    1,
                    1
                ],
                "roughness": [0.001,0.001]
            }
        },
        {
            "type": "matte",
            "name": "TallBox",
            "param": {
                "color": [
                    0.725,
                    0.71,
                    0.68
                ]
            }
        },
        {
            "type": "matte",
            "name": "Light",
            "param": {
                "color": [
                    0,
                    0,
                    0
                ]
            }
        }
    ],
    "sampler": {
        "type": "independent",
        "name": "sampler0",
        "param": {
            "spp": 1
        }
    },
    "mediums" : {
        "global" : "fog",
        "process" : false,
        "list": [
            {
                "type" : "homogeneous",
                "name" : "fog",
                "param" : {
                    "scale" : 3,
                    "g" : 0,
                    "sigma_a" : [0.0, 0.0, 0.0],
                    "sigma_s" : [0.1, 0.1, 0.1]
                }
            }
        ]
    },
    "camera": {
        "type": "thin_lens",
        "param": {
            "fov_y": 19.5,
            "name": "view1",
            "velocity": 5,
            "transform": {
                "type": "look_at",
                "param": {
                    "position": [
                        0,
                        1,
                        6.8
                    ],
                    "up": [
                        0,
                        1,
                        0
                    ],
                    "target_pos": [
                        0,
                        1,
                        0
                    ]
                }
            },
            "film": {
                "type": "rgb",
                "param": {
                    "resolution": [
                        1024,
                        1024
                    ],
                    "fb_state": 0
                }
            },
            "filter": {
                "type": "box",
                "name": "boxFilter",
                "param": {
                    "radius": [
                        1.5,
                        1.5
                    ]
                }
            }
        }
    },
    "warper": {
        "type": "alias_table"
    },
    "integrator": {
        "type": "pt",
        "param": {
            "min_depth": 0,
            "max_depth": 16,
            "rr_threshold": 1
        }
    },
    "spectrum" : {
        "type" : "hero",
        "param" : {
            "dimension": 4
        }
    },
    "light_sampler": {
        "type": "uniform",
        "param": {
            "lights": []
        }
    },
    "output": {
        "spp": 1024,
        "fn": "dispersion-hero.png"
    }
}