2025.3.3

这几天在查一个关于principled BSDF材质的一个bug，把transmission分量加入材质之后，会出现无法收敛的噪声
认真检查了各个lobe的PDF，没发现问题，后来发现反弹次数提高之后会变亮，立刻怀疑能量守恒出了问题，
计算了albedo积分大于一，能量不守恒，打印了每个lobe的albedo之后，发现specular分量的albedo异常，
查证之后发现构建specular lobe时，折射率翻转了，但不应该翻转，该问题已解决

正常的加入transmission之后，发现打开transmission与sheen之后，roughness提高之后，又会有无法收敛的噪声
打印了sheen的albedo之后发现，在物体内部时，albedo不为零，显然不对，在这里我加了个hit front判断，
在物体内部计算着色时，不考虑coat与sheen

2025.3.13

ocarina中有一个bug是由于CallExpr中arguments的结构为vector，pushback之后可能会导致扩容，扩容会导致
之前元素的地址失效，就导致了function corrector中的无效指针的问题

ocarina中function corrector第二个问题，主要是由于处理subscript expr时，漏了处理range

2025.5.15
1.subscript expr处理时，range传入的时候通过range()传入，并没有吧range_指针的引用传入，导致无法修改range_
2.subscript_expr处理时只需要处理其index以及range即可，不需要对subscript_expr本身进行处理，如果处理了，会产生多余的参数替换，导致需要函数遍历多次才能完成校正